{% extends 'base2.html' %}
{% block title %}Home page {% endblock %}
{% block content %}

<div class="flex-1 overflow-auto">
  <main class="flex-auto h-full flex-col gap-4 p-4 md:gap-8 md:p-6">
    <div class="flex items-center gap-8">
      <div
        class="rounded-lg flex-grow bg-card text-card-foreground shadow-sm border-2 border-blue-500 flex-col items-center justify-center p-8"
        data-v0-t="card"
      >
        <div class="flex flex-col space-y-1.5 p-6">
          <h3
            class="whitespace-nowrap text-2xl font-semibold leading-none tracking-tight"
          >
            Sitters
          </h3>
          <p class="text-sm text-muted-foreground">
            Statistics for daycare sitters
          </p>
        </div>
        <div class="p-6 flex items-center justify-between">
          <div class="text-4xl font-bold">{{ sitters_count }}</div>
        </div>
      </div>
      <div
        class="rounded-lg flex-grow bg-card text-card-foreground shadow-sm border-2 border-green-500 flex flex-col items-center justify-center p-8"
        data-v0-t="card"
      >
        <div class="flex flex-col space-y-1.5 p-6">
          <h3
            class="whitespace-nowrap text-2xl font-semibold leading-none tracking-tight"
          >
            Babies
          </h3>
          <p class="text-sm text-muted-foreground">
            Statistics for daycare babies
          </p>
        </div>
        <div class="p-6 flex items-center justify-between">
          <div class="text-4xl font-bold">{{ babies_count }}</div>
        </div>
      </div>
      <div
        class="rounded-lg flex-grow bg-card text-card-foreground shadow-sm border-2 border-yellow-500 flex flex-col items-center justify-center p-8"
        data-v0-t="card"
      >
        <div class="flex flex-col space-y-1.5 p-6">
          <h3
            class="whitespace-nowrap text-2xl font-semibold leading-none tracking-tight"
          >
            Products
          </h3>
          <p class="text-sm text-muted-foreground">
            Statistics for daycare Products
          </p>
        </div>
        <div class="p-6 flex items-center justify-between">
          <div class="text-4xl font-bold">{{ products_count }}</div>
        </div>
      </div>
      <div
        class="rounded-lg flex-grow bg-card text-card-foreground shadow-sm border-2 border-red-500 flex flex-col items-center justify-center p-8"
        data-v0-t="card"
      >
        <div class="flex flex-col space-y-1.5 p-6">
          <h3
            class="whitespace-nowrap text-2xl font-semibold leading-none tracking-tight"
          >
            Procurement
          </h3>
          <p class="text-sm text-muted-foreground">
            Statistics for daycare supplies
          </p>
        </div>
        <div class="p-6 flex items-center justify-between">
          <div class="text-4xl font-bold">{{ supplies_count }}</div>
        </div>
      </div>
    </div>
    <div class="grid grid-cols-1 gap-4 mt-4 md:grid-cols-2">
      <div
        class="rounded-lg border bg-card text-card-foreground shadow-sm"
        data-v0-t="card"
      >
        <div class="flex flex-col space-y-1.5 p-6">
          <h3
            class="whitespace-nowrap text-2xl font-semibold leading-none tracking-tight"
          >
            Recent Enrollments
          </h3>
          <p class="text-sm text-muted-foreground">
            New babies enrolled in the last 7 days
          </p>
        </div>
        <div class="p-6">
          <div class="relative w-full overflow-auto">
            <table class="w-full caption-bottom text-sm">
              <thead class="[&amp;_tr]:border-b">
                <tr
                  class="border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"
                >
                  <th
                    class="h-12 px-4 text-left align-middle font-medium text-muted-foreground [&amp;:has([role=checkbox])]:pr-0"
                  >
                    Baby Name
                  </th>                 
                  <th
                    class="h-12 px-4 text-left align-middle font-medium text-muted-foreground [&amp;:has([role=checkbox])]:pr-0"
                  >
                    DOB
                  </th>
                  
                  <th class="h-12 px-4 text-left align-middle font-medium text-muted-foreground [&amp;:has([role=checkbox])]:pr-0">
                    Parents Name
                  </th>
                  <th class="h-12 px-4 text-left align-middle font-medium text-muted-foreground [&amp;:has([role=checkbox])]:pr-0">
                    Assigned Sitter
                  </th>
                </tr>
              </thead>
              <tbody class="[&amp;_tr:last-child]:border-0">
                {% for baby in babies %}

                <tr
                  class="border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"
                >
                  <td
                    class="p-4 align-middle [&amp;:has([role=checkbox])]:pr-0"
                  >
                    {{baby.name}}
                  </td>

                    <td class="p-4 align-middle [&amp;:has([role=checkbox])]:pr-0">
                      {{baby.dob}}
                    </td>
                  
                  <td
                    class="p-4 align-middle [&amp;:has([role=checkbox])]:pr-0"
                  >
                    {{baby.parent_name}}
                  </td>
                  <td class="p-4 align-middle [&amp;:has([role=checkbox])]:pr-0">
                    {{baby.sitter.name}}
                  </td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
      </div>
      <div
        class="rounded-lg border bg-card text-card-foreground shadow-sm"
        data-v0-t="card"
      >
        <div class="flex flex-col space-y-1.5 p-6">
          <h3
            class="whitespace-nowrap text-2xl font-semibold leading-none tracking-tight"
          >
            Upcoming Products
          </h3>
          <p class="text-sm text-muted-foreground">
            Products due in the next 7 days
          </p>
        </div>
        <div class="p-6">
          <div class="relative w-full overflow-auto">
            <table class="w-full caption-bottom text-sm">
              <thead class="[&amp;_tr]:border-b">
                <tr
                  class="border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"
                >
                  <th
                    class="h-12 px-4 text-left align-middle font-medium text-muted-foreground [&amp;:has([role=checkbox])]:pr-0"
                  >
                    Baby
                  </th>
                  <th
                    class="h-12 px-4 text-left align-middle font-medium text-muted-foreground [&amp;:has([role=checkbox])]:pr-0"
                  >
                    Amount
                  </th>
                  <th
                    class="h-12 px-4 text-left align-middle font-medium text-muted-foreground [&amp;:has([role=checkbox])]:pr-0"
                  >
                    Due Date
                  </th>
                </tr>
              </thead>
              <tbody class="[&amp;_tr:last-child]:border-0">
                {% for Product in Products %}
                <tr
                  class="border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"
                >
                  <td
                    class="p-4 align-middle [&amp;:has([role=checkbox])]:pr-0"
                  >
                    {{Product.baby.name.id}}
                  </td>
                  <td
                    class="p-4 align-middle [&amp;:has([role=checkbox])]:pr-0"
                  >
                    {{Product.amount}}
                  </td>
                  <td
                    class="p-4 align-middle [&amp;:has([role=checkbox])]:pr-0"
                  >
                    {{Product.due_date}}
                  </td>

                  {% endfor %}
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>
{% endblock %}
